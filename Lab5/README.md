## Программирование многопоточных приложений с использованием POSIX Threads

### Цель работы

Освоить разработку многопоточных программ с использованием POSIX Threads API. Познакомиться с задачей динамического распределения работы между процессорами.

### Задание

Есть список неделимых заданий, каждое из которых может быть выполнено независимо от другого. Задания могут иметь различный вычислительный вес, т.е. требовать при одних и тех же вычислительных ресурсах различного времени для выполнения. Считается, что этот вес нельзя узнать, пока задание не выполнено. После того, как все задания из списка выполнены, появляется новый список заданий. Необходимо организовать параллельную обработку заданий на нескольких компьютерах. Количество заданий существенно превосходит количество процессоров. Программа не должна зависеть от числа компьютеров.
Понятно, что для распараллеливания задачи задания из списка нужно распределять между компьютерами. Так как задания имеют различный вычислительный вес, а список обрабатывается итеративно, и требуется синхронизация перед каждой итерацией, то могут возникать ситуации, когда некоторые процессоры выполнили свою работу, а другие -- еще нет. Если ничего не предпринять, первые будут простаивать в ожидании последних. Так возникает задача динамического распределения работы. Для ее решения на каждом процессоре заведем несколько потоков. Как минимум, потоков должно быть 2:
* поток, который обрабатывает задания и, когда задания закончились, обращается к другим компьютерам за добавкой к работе
* поток, ожидающий запросов о работе от других компьютеров

### Описание работы

#### Начальные данные:

Графики и замеры были проведены на 8 процессах. Количество задач на процесс - 250, количество итераций - 5, константа L - 1000.

#### Графики:

![image](https://user-images.githubusercontent.com/44488666/120067004-91029580-c0a3-11eb-8424-566bfe0a6fc5.png)

![image](https://user-images.githubusercontent.com/44488666/120067008-92cc5900-c0a3-11eb-8fa1-951ec6123349.png)

#### Таблица замеров:

![image](https://user-images.githubusercontent.com/44488666/120067046-b8596280-c0a3-11eb-9e64-7bb86d164819.png)

#### Профилирование:

*Без приближения*

![image](https://user-images.githubusercontent.com/44488666/120067048-ba232600-c0a3-11eb-97c8-87d3953d25b2.png)

*С приближением*

![image](https://user-images.githubusercontent.com/44488666/120067056-c313f780-c0a3-11eb-8ea1-9b56470236b2.png)

### Заключение

В ходе выполнения работы все требования были соблюдены. Я освоил базовые функции библиотеки pthreads, узнал о работе с потоками в контексте нескольких процессов. На примере научился разделять процессы на подзадачи с помощью потоков, организовывать их взаимодействие. В итоге, мне удалось провести необходимые замеры и проверить эффективность моей программы.
